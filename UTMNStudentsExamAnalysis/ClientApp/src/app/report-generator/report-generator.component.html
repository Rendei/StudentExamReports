  <main class="d-flex container">
  <!--<button class="btn btn-primary">
    Сохранить отчёт
  </button>
  <button class="notification-button">
    <i class="fas fa-bell"></i>
  </button>-->

  <div class="filters">
    <span class="mx-auto">Фильтры</span>
    <div class="container">
      <div class="container card">
        <b class="mx-auto">Тип диаграммы:</b>
        <select #filterSelect id="filterSelect" [(ngModel)]="selectedReport">
          <option class="filter-option" *ngFor="let filterOption of filterOptions" [value]="filterOption" > {{ filterOption }}</option>
        </select>

        <div class="row">
          <div class="col">
            <b>Школа</b>
            <div class="filter-div">
              <mat-checkbox class="example-margin"
                            [(ngModel)]="schoolChecked"
                            (change)="setAllSchools($event.checked)"
                            labelPosition="before">
                Все
              </mat-checkbox>
            </div>
          

            <div class="options">
              <select multiple [(ngModel)]="selectedSchoolCodes" (change)="onSelectionChange()">
                <option class="filter-option" *ngFor="let schoolOption of schoolOptions" [value]="schoolOption.schoolCode" [title]="schoolOption.shortName"> {{ schoolOption.shortName }}</option>                
              </select>
            </div>
          </div>

          <div class="col">
            <b>Класс</b>
            <div class="filter-div">
              <mat-checkbox class="example-margin"
                            [(ngModel)]="classChecked"
                            (change)="setAllClasses($event.checked)"
                            labelPosition="before">
                Все
              </mat-checkbox>
            </div>

            <div class="options">
              <select multiple [(ngModel)]="selectedSchoolClasses">
                <option class="filter-option" *ngFor="let classOption of classOptions" [value]="classOption"> {{ classOption }}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <!--можно убрать тут все дивы с классом роу-->
          <div class="col">
            <b>Тип</b>
            <div class="filter-div">
              <mat-checkbox class="example-margin"
                            [(ngModel)]="typeChecked"
                            labelPosition="before">
                Все
              </mat-checkbox>
            </div>

            <div class="options">
              <select multiple>
                <option class="filter-option" *ngFor="let typeOption of typeOptions" [value]="typeOption"> {{ typeOption }}</option>
              </select>
            </div>
          </div>

          <div class="col">
            <b>Предмет</b>
            <div class="filter-div">
              <mat-checkbox class="example-margin"
                            [(ngModel)]="subjectChecked"
                            (change)="setAllSubjects($event.checked)"
                            labelPosition="before">
                Все
              </mat-checkbox>
            </div>
            

            <div class="options">
              <select multiple [(ngModel)]="selectedSubjects">
                <option class="filter-option" *ngFor="let subjectOption of subjectOptions" [value]="subjectOption.subjectId"> {{ subjectOption.subjectName }}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="col">
          <b>Годы</b>
          <div class="filter-div">
            <mat-checkbox class="example-margin"
                          [(ngModel)]="yearChecked"
                          (change)="setAllYears($event.checked)"
                          labelPosition="before">
              Все
            </mat-checkbox>
          </div>
         

          <div class="options">
            <select multiple [(ngModel)]="selectedYears">
              <option class="filter-option" *ngFor="let yearOption of yearOptions" [value]="yearOption"> {{ yearOption }}</option>
            </select>
          </div>
        </div>

        <button (click)="generateReport()">Сгенерировать отчёт</button>
      </div>
    </div>
  </div>


  <div id="chartsContainer" style="text-align: right;">
    <!--<div *ngFor="let chart of charts; let i = index" class="chart-wrapper">
      <button class="close-button" (click)="deleteChart(i)">X</button>
    </div>-->
  </div>

</main>
